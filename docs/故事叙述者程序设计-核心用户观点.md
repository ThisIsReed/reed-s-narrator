# chat-故事叙述者程序设计：用户意图与核心观点

## 用户核心意图
- 先构建“故事叙述者程序”，暂不实现玩家扮演与文字冒险玩法。
- 用叙述者主导故事长期演化，后续再考虑从任意时间点切入游戏。
- 通过“物候学”增强世界可信度与多样性，并作为独立特色模块。
- 在多角色演化中严格执行信息隔离，避免角色获得不应知道的信息。
- 在保证叙事质量前提下控制计算成本，避免所有角色在每轮都做无效反应。

## 需求边界与阶段取舍
- 当前阶段：故事演化系统与玩家扮演系统完全分离。
- 当前阶段：Agent 层简化，不考虑角色操控接口。
- 当前阶段：重点是“叙述者-角色-世界状态”的演化闭环。
- 未来阶段：在演化稳定后，再衔接玩家接管角色的玩法。

## 演化引擎的轮次机制（用户明确提出）
- 演化最小单位是“轮次”。
- 每轮先由叙述者决定时间粒度并给出理由。
- 时间粒度包含：
- `年`：宏观战略行为。
- `月`：跳过无重要行为的空白期，直达结果。
- `日`：默认细化叙事粒度。
- `即时`：用于多名主要角色之间存在对话/间接影响的高张力场景。
- 叙述者按角色视角分发信息，角色只接收其可见信息。
- 角色基于自身视角做行动并回传给叙述者。
- 叙述者统一结算结果并更新故事走向。
- 轮次结束时，按粒度严格推进时间流动。

## 关键设计原则
- 叙述者是中央控制者：负责节奏、分发、裁定与时间推进。
- 角色不是全知体：只能在“信息隔离”约束下决策。
- 规则与智能分工：重要逻辑与约束应由系统规则保障，非全交给模型自由发挥。
- 叙事节奏可变：用动态粒度在“效率”和“细节张力”之间切换。

## “灵感一闪”机制（用户新增观点）
- 背景问题：细粒度轮次下，并非每个主要角色都需要反应。
- 机制要求：
- 叙述者在生成轮次粒度时必须给出“本轮理由”。
- 若该理由与某角色无关，则该角色不必强制参与。
- 可按一定概率让无关角色“被纳入本轮”。
- 目标收益：
- 降低计算与调用成本。
- 维持角色行为连续性（避免无意义动作）。
- 在更高维度上不破坏信息隔离。

## 从全文可归纳的实现重点
- 先做可运行的演化闭环，再逐步增强复杂度。
- 数据与状态应可持续记录，保证故事时间线连续。
- 高张力场景应允许更细粒度、多角色互动式演化。
- 无关角色可降低活跃度，但其状态演化仍需逻辑自洽。
